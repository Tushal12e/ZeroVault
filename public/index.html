<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ZeroVault - Secure encrypted file sharing with advanced privacy features">
    <meta name="theme-color" content="#0a0a0a">
    <title>ZeroVault | Zero-Knowledge Secure File Sharing</title>
    <link rel="stylesheet" href="style.css">
    <link
        href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;700&family=Fira+Code:wght@400;500&display=swap"
        rel="stylesheet">
    <!-- QR Code Library (QRCode.js by davidshimjs) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <!-- Confetti Library -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
</head>

<body>
    <!-- Audio Elements for Sound Effects -->
    <audio id="sound-encrypt" preload="auto">
        <source
            src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdH2Onp6XjHxvYl5lcoGOmZqUiHltYF1kcH6KlZmVi4B0ZmFgZ3N/i5aZl42CdmljYGZxfYmUmJaLgHVpY2FmbXqGkZaVjIF1aWRjZm95hI+UlIx/dGhkY2dueYOOk5OLfnNoZGRnbnmDjZKSin1yZ2RlZ256g42RkYl8cmZkZWZteIKMkJCIfHFmZGVnbXiCi4+PiHtwZWRlZ214gYuOjod6cGVkZWdteIGKjY2GeW9lZGZnbXeBio2MhnhvZWRmZ214gYqMjIZ4b2VkZmdteIGJjIuFd25lZGZobniAiYuLhXduZWVmaG54gImLi4V3bmVlZmhueICJiouFd25lZWZobniAiIqKhHZtZWVmaW54gIiKioR2bWVlZmluef+IioqEdW1lZWZpbnj/h4mJg3VtZWVnaW54/4eJiYN1bWVlZ2lueP+HiYmDdW1lZWdpbnn/h4mJg3RsZWVnaW55/4aIiIJ0bGVlZ2lueP+GiIiCdGxlZmdpb3j/hoiIgnRsZWZnaW94/4WIiIJ0bGVmZ2lveP+FiIiBc2xlZmdpb3j/hYeHgXNsZWZnaW94/4WHh4FzbGVmZ2lveP+Fh4eBc2xlZmdpb3j/hYeHgXNsZWZnaW94/4WHh4FzbGVmZ2lveP+Fh4eBcmtlZmdpb3j/hIaGgHJrZWZnaW94/4SGhoByamVmZ2pveP+EhoaAcmplZmdqb3j/hIaGgHJqZWZnam94/4SGhn9yamVmZ2pveP+DhYV/cWplZmdqb3j/g4WFf3FqZWZnam94/4OFhX9xamVmZ2pveP+DhYV/cWplZmdr"
            type="audio/wav">
    </audio>
    <audio id="sound-success" preload="auto">
        <source
            src="data:audio/wav;base64,UklGRl9AAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YTs/AAD/fwAAAAAAAAD/fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/fwAAAIAAAP9/AAD/fwAAAAAAAAD/fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/fwAAAIAAAP9/AAD/fwAAAAAAAAD/fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/fwAAAIAAAP9/"
            type="audio/wav">
    </audio>
    <audio id="sound-click" preload="auto">
        <source
            src="data:audio/wav;base64,UklGRjQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YRAAAAD/f/9//3//f/9//38AAA=="
            type="audio/wav">
    </audio>

    <div class="background-effects">
        <div class="gradient-orb orb-1"></div>
        <div class="gradient-orb orb-2"></div>
        <!-- Matrix rain canvas for terminal theme -->
        <canvas id="matrix-canvas" class="matrix-canvas hidden"></canvas>
    </div>

    <div class="container">
        <header>
            <div class="logo-container">
                <div class="logo-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                        <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                    </svg>
                </div>
                <h1>ZeroVault<span class="cursor">_</span></h1>
            </div>
            <p class="subtitle">Zero-Knowledge Encryption. <span class="highlight">Maximum Privacy.</span></p>

            <div class="header-controls">
                <!-- Theme Toggle -->
                <button id="theme-toggle" class="control-btn" aria-label="Toggle theme" title="Switch Theme">
                    <span class="theme-icon sun">‚òÄÔ∏è</span>
                    <span class="theme-icon moon">üåô</span>
                </button>
                <!-- Terminal Theme Toggle -->
                <button id="terminal-toggle" class="control-btn" aria-label="Toggle terminal mode"
                    title="Terminal Mode">
                    <span class="terminal-icon">üíª</span>
                </button>
                <!-- Sound Toggle -->
                <button id="sound-toggle" class="control-btn" aria-label="Toggle sounds" title="Sound Effects">
                    <span class="sound-icon on">üîä</span>
                    <span class="sound-icon off hidden">üîá</span>
                </button>
            </div>
        </header>

        <main>
            <!-- Upload Section -->
            <section id="upload-section" class="panel glass">
                <div class="panel-header">
                    <h2><span class="bracket">[</span> ENCRYPT & UPLOAD <span class="bracket">]</span></h2>
                    <div class="status-badge" id="connection-badge">
                        <span class="pulse"></span>
                        ZERO-KNOWLEDGE
                    </div>
                </div>

                <div class="drop-zone" id="drop-zone">
                    <div class="drop-zone-content">
                        <div class="upload-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="17 8 12 3 7 8"></polyline>
                                <line x1="12" y1="3" x2="12" y2="15"></line>
                            </svg>
                        </div>
                        <p class="drop-text">Drag file here, click to select, or <kbd>Ctrl+V</kbd> to paste</p>
                        <p class="drop-hint">Maximum file size: 100MB ‚Ä¢ All metadata encrypted</p>
                    </div>
                    <input type="file" id="file-input" hidden>
                </div>

                <!-- File Info -->
                <div id="file-info" class="file-info hidden">
                    <div class="file-icon" id="file-type-icon">üìÑ</div>
                    <div class="file-details">
                        <span class="file-name" id="selected-file-name">filename.txt</span>
                        <span class="file-size" id="selected-file-size">0 KB</span>
                    </div>
                    <button class="remove-file-btn" id="remove-file" title="Remove file">‚úï</button>
                </div>

                <!-- Progress Bar -->
                <div id="progress-container" class="progress-container hidden">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <span class="progress-text" id="progress-text">0%</span>
                </div>

                <div class="options-area">
                    <div class="option-group">
                        <label for="password-input">
                            <span class="option-icon">üîê</span>
                            Password Protection (Optional)
                        </label>
                        <form onsubmit="return false;" class="input-wrapper">
                            <input type="password" id="password-input" placeholder="Leave empty for no password"
                                autocomplete="new-password">
                            <button type="button" class="toggle-password" id="toggle-password">üëÅÔ∏è</button>
                        </form>
                    </div>


                    <div class="option-row">
                        <div class="option-group half">
                            <label for="expiry-select">
                                <span class="option-icon">‚è∞</span>
                                Expiry Time
                            </label>
                            <select id="expiry-select" class="styled-select">
                                <option value="1h">1 Hour</option>
                                <option value="6h">6 Hours</option>
                                <option value="24h" selected>24 Hours</option>
                                <option value="7d">7 Days</option>
                            </select>
                        </div>

                        <div class="option-group half">
                            <label class="checkbox-container">
                                <input type="checkbox" id="burn-checkbox">
                                <span class="checkmark"></span>
                                <span class="checkbox-label">
                                    <span class="option-icon">üî•</span>
                                    Burn After Reading
                                </span>
                            </label>
                        </div>
                    </div>

                    <!-- Advanced Privacy Options -->
                    <div class="advanced-toggle" id="advanced-toggle">
                        <span class="toggle-icon">‚öôÔ∏è</span>
                        <span>Advanced Privacy Options</span>
                        <span class="arrow">‚ñº</span>
                    </div>

                    <div id="advanced-options" class="advanced-options hidden">
                        <div class="option-row">
                            <div class="option-group half">
                                <label class="checkbox-container">
                                    <input type="checkbox" id="decoy-checkbox">
                                    <span class="checkmark"></span>
                                    <span class="checkbox-label">
                                        <span class="option-icon">üé≠</span>
                                        Decoy Files
                                    </span>
                                </label>
                            </div>

                            <div class="option-group half">
                                <label class="checkbox-container">
                                    <input type="checkbox" id="disposable-checkbox" checked>
                                    <span class="checkmark"></span>
                                    <span class="checkbox-label">
                                        <span class="option-icon">üîó</span>
                                        Disposable Links
                                    </span>
                                </label>
                            </div>
                        </div>

                        <div class="option-group">
                            <label class="checkbox-container">
                                <input type="checkbox" id="zkp-checkbox" checked>
                                <span class="checkmark"></span>
                                <span class="checkbox-label">
                                    <span class="option-icon">üõ°Ô∏è</span>
                                    Zero-Knowledge Proof (Hash verification)
                                </span>
                            </label>
                        </div>
                    </div>
                </div>

                <button id="upload-btn" class="action-btn" disabled>
                    <span class="btn-icon">üöÄ</span>
                    <span class="btn-text">SELECT FILE TO UPLOAD</span>
                </button>


                <div id="upload-status" class="status-text"></div>

                <!-- Result Area -->
                <div id="result-area" class="result-area hidden">
                    <div class="success-header">
                        <div class="success-icon">‚úÖ</div>
                        <h3>File Encrypted & Uploaded!</h3>
                    </div>

                    <div class="result-content">
                        <div class="link-section">
                            <label>Share Link:</label>
                            <div class="link-box">
                                <input type="text" id="share-link" readonly>
                                <button id="copy-btn" class="copy-btn">
                                    <span class="copy-icon">üìã</span>
                                    <span class="copy-text">COPY</span>
                                </button>
                            </div>
                        </div>

                        <!-- Short Link Section -->
                        <div class="short-link-section">
                            <label>Short Link:</label>
                            <div class="link-box">
                                <input type="text" id="short-link" readonly placeholder="Click to generate...">
                                <button id="generate-short-btn" class="copy-btn">
                                    <span>‚úÇÔ∏è</span>
                                    <span class="short-text">SHORT</span>
                                </button>
                                <button id="copy-short-btn" class="copy-btn hidden">
                                    <span>üìã</span>
                                    <span>COPY</span>
                                </button>
                            </div>
                        </div>

                        <!-- Social Share Buttons -->
                        <div class="social-share-section">
                            <label>Share via:</label>
                            <div class="social-buttons">
                                <button id="share-whatsapp" class="social-btn whatsapp" title="Share on WhatsApp">
                                    <span>üí¨</span> WhatsApp
                                </button>
                                <button id="share-telegram" class="social-btn telegram" title="Share on Telegram">
                                    <span>‚úàÔ∏è</span> Telegram
                                </button>
                                <button id="share-twitter" class="social-btn twitter" title="Share on Twitter/X">
                                    <span>üê¶</span> Twitter
                                </button>
                                <button id="share-email" class="social-btn email" title="Share via Email">
                                    <span>üìß</span> Email
                                </button>
                            </div>
                        </div>

                        <div class="qr-section">
                            <label>Scan QR Code:</label>
                            <div class="qr-container">
                                <canvas id="qr-code"></canvas>
                            </div>
                        </div>

                        <div class="privacy-badges">
                            <span class="privacy-badge" id="badge-zkp" title="Zero-Knowledge Proof enabled">üõ°Ô∏è
                                ZKP</span>
                            <span class="privacy-badge" id="badge-decoy" title="Decoy files generated">üé≠ Decoy</span>
                            <span class="privacy-badge" id="badge-disposable" title="Disposable link">üîó
                                Disposable</span>
                            <span class="privacy-badge" id="badge-encrypted" title="End-to-end encrypted">üîí E2E</span>
                        </div>

                        <!-- Expiry Countdown Timer -->
                        <div class="expiry-countdown" id="expiry-countdown">
                            <div class="countdown-header">
                                <span class="expiry-icon">‚è≥</span>
                                <span id="expiry-text">Expires in 24 hours</span>
                            </div>
                            <div class="countdown-timer" id="countdown-timer">
                                <div class="countdown-item">
                                    <span class="countdown-value" id="countdown-hours">00</span>
                                    <span class="countdown-label">Hours</span>
                                </div>
                                <div class="countdown-separator">:</div>
                                <div class="countdown-item">
                                    <span class="countdown-value" id="countdown-minutes">00</span>
                                    <span class="countdown-label">Min</span>
                                </div>
                                <div class="countdown-separator">:</div>
                                <div class="countdown-item">
                                    <span class="countdown-value" id="countdown-seconds">00</span>
                                    <span class="countdown-label">Sec</span>
                                </div>
                            </div>
                        </div>

                        <!-- Self-Healing Link Button -->
                        <button id="heal-link-btn" class="secondary-btn hidden">
                            <span class="btn-icon">üîÑ</span>
                            Regenerate Link (Invalidate Old)
                        </button>
                    </div>


                    <p class="warning">
                        <span class="warning-icon">‚ö†Ô∏è</span>
                        <strong>SAVE THIS LINK.</strong> It contains the decryption key. Server has zero knowledge of
                        your file contents.
                    </p>

                    <button id="upload-another" class="secondary-btn">
                        <span class="btn-icon">‚ûï</span>
                        Upload Another File
                    </button>
                </div>
            </section>

            <!-- Download Section -->
            <section id="download-section" class="panel glass hidden">
                <div class="panel-header">
                    <h2><span class="bracket">[</span> DECRYPT & DOWNLOAD <span class="bracket">]</span></h2>
                    <div class="status-badge secure">
                        <span class="pulse"></span>
                        ENCRYPTED
                    </div>
                </div>

                <div class="file-preview">
                    <div class="file-preview-icon" id="preview-icon">üìÅ</div>
                    <div class="file-preview-info">
                        <span class="file-preview-name" id="preview-filename">Secure File</span>
                        <span class="file-preview-meta" id="preview-meta">Ready to decrypt</span>
                    </div>
                </div>

                <div id="password-prompt" class="hidden option-group">
                    <label for="decrypt-password">
                        <span class="option-icon">üîê</span>
                        Enter Password to Unlock:
                    </label>
                    <form onsubmit="return false;" class="input-wrapper">
                        <input type="password" id="decrypt-password" placeholder="Enter password"
                            autocomplete="current-password">
                        <button type="button" class="toggle-password" id="toggle-decrypt-password">üëÅÔ∏è</button>
                    </form>
                </div>


                <button id="decrypt-btn" class="action-btn">
                    <span class="btn-icon">üîì</span>
                    <span class="btn-text">UNLOCK & DOWNLOAD</span>
                </button>

                <div id="download-status" class="status-text"></div>

                <div id="download-progress" class="progress-container hidden">
                    <div class="progress-bar">
                        <div class="progress-fill" id="download-progress-fill"></div>
                    </div>
                    <span class="progress-text" id="download-progress-text">Decrypting...</span>
                </div>
            </section>
        </main>

        <footer>
            <div class="footer-content">
                <p class="footer-brand">ZeroVault v5.6</p>
                <p class="footer-tagline">Zero-Knowledge ‚Ä¢ End-to-End Encrypted ‚Ä¢ Maximum Privacy</p>
            </div>
            <div class="footer-status">
                <span class="status-dot"></span>
                <span id="connection-status">System Online</span>
            </div>
        </footer>
    </div>

    <script src="crypto.js"></script>
    <script src="app.js"></script>
</body>

</html>